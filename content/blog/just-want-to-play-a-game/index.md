---
title: "一切都是因为想打一局游戏"
date: "2017-10-02"
category: "Dev"
emoji: "👨🏼‍💻"
---

这个社会充满着迷惑，会强迫你认知某一事物是正确的或错误的，只要一不小心就容易上当受骗，尤其是在亲朋好友之间的话、老师的话。最好是坚持批判思考、理性思考、始终保持一颗追求后设认知的心。

举个前几天的例子：

55r翻墙一直是一些人欲求不满的工具。但是对55r工作原理的认知并非所有人都清楚，而且可以说是少数人清楚，也正是有不清楚原理的人且他们以为自己清楚，才会说出误导别人的话。经常有人会推荐你打不开某国外网页时候开启全局模式，的确大多数都是管用的，但是我前几天在mac上下载美服的LOL，下载速度非常慢，于是有人就给我支招了：“开启55r的全局模式”。我打开了全局模式，然并卵，还是龟速下载。

这种人就想当然以为mac上的55r开启了全局模式，所有的流量都会跑到服务器所在地点再连接其他地方。错！他们不知道http代理和sock5代理区别。我们用的浏览器是支持sock5代理的，55r正是通过sock5协议传输，所以浏览器可以经过pac过滤或者全局来走代理服务器。我们平时用的qq、微信、tweetbot、Telegram等软件，有的支持sock5，有的不支持，就像Telegram是支持手动修改代理的，所以我们可以将55r本地监听的sock5地址和端口配置到Telegram上就可以实现连接，也可以将55r本地监听的http地址和端口配置到Telegram上。还有其他的软件例如qq、百度管家支持系统代理，会统一走系统所设置的代理方式，打开偏好设置-网络-高级-代理，就可以看到自动代理配置是选中的，配置文件有个.pac，就是55r的过滤文件。

还有一个就是终端，本身不支持sock5，所以就有可能在使用pod、brew、npm时候下载速度特别慢情况。那么怎么解决呢？两种方法，第一种是实现真正的全局，第二种是单独给终端配置http代理。

有个叫Proxifier的软件，可以用来实现真正的全局模式，当然也可以添加例外。

第二种方法需要安装polipo，它会开启一个本地服务器，将sock5转到http，只要终端的http代理设置为polipo开启的地址+端口，那么就可以实现终端fq。

可以用`curl ip.gs`查看ip地址查询。

使用`export http_proxy=http://127.0.0.1:8123`将终端设置http代理。（8123是polipo默认开启的端口）

polipo这么好用的工具，使用起来并不简单方便，所以需要设置开机自启`launchctl load ~/Library/LaunchAgents/homebrew.mxcl.polipo.plist`。然后在设置.zshrc文件将代理设置上，实现每次开启终端都会默认使用polipo代理。当然也可以设置一个`alias hp='http_proxy=<http://localhost:8123'>`，在每次需要访问国外站点时候在前面加上hp即可。例如：

<img src="https://raw.githubusercontent.com/FaiChou/faichou.github.io/master/img/qiniu/markdown/1506882027675.png" width="600"/>



因为LOL下载器不支持sock5，所以需要开启真正全局模式，可以实现加速下载。

关于配置的一切都可以参考这一篇[极好的文章](http://fullstack.blog/2017/09/26/%E5%85%A8%E8%87%AA%E5%8A%A8%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E6%96%B9%E6%A1%88%E5%88%86%E4%BA%AB/)。



一切来源都是因为想打LOL，经过了美服的延迟高到不能玩，日服直接不能进游戏，VMWare安装win7打游戏被游戏检测出来系统是虚拟机，进入不到游戏，于是用bootcamp安装了win10，终于愉快的玩游戏了。但是经过和朋友一晚上网卡通宵打游戏后，又对游戏产生了厌倦，苍天啊，我的呕心沥血，我的一本正经爱折腾~



